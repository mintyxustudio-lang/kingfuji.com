<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<title>Kane Fuji Smart Seating (Integrated)</title>
<style>
  html,body { margin:0; padding:0; width:100%; height:100%; overflow:hidden; background:#f5f7fb; }
  /* Splash */
  .splash { position:fixed; inset:0; background:linear-gradient(to bottom,#f6d67a,#fbeec2); display:flex; flex-direction:column; align-items:center; justify-content:center; color:#222; text-align:center; z-index:9999; }
  @keyframes breath { 0%{transform:scale(1);} 50%{transform:scale(1.05);} 100%{transform:scale(1);} }
  h1 { font-size:32px; color:#222; margin:20px 0 6px; font-weight:700; animation:breath 3s infinite ease-in-out; }
  h2 { font-size:18px; color:#333; margin:4px 0 20px; font-weight:400; }
  .loader { border:5px solid #ddd; border-top:5px solid #222; border-radius:50%; width:45px; height:45px; animation:spin 1.2s linear infinite; margin:15px auto; }
  @keyframes spin { 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }
  .loading-text { font-size:14px; color:#222; margin-top:8px; }
  .copyright { font-size:12px; color:#333; position:absolute; bottom:20px; width:100%; text-align:center; line-height:1.6; padding:0 12px; box-sizing:border-box; }
  .fade-out { opacity:0; transition:opacity 1s ease-out; }
  /* Main app holder */
  #app { position:absolute; inset:0; border:0; width:100%; height:100%; display:block; }
</style>
</head>
<body>
  <div class="splash" id="splash">
    <h1>金富士智能排座系统</h1>
    <h2>Kane Fuji Smart Seating Manager</h2>
    <div class="loader"></div>
    <div class="loading-text">正在加载系统，请稍候…<br>Loading system, please wait…</div>
    <div class="copyright">
      © 2025 WenBin. All rights reserved.<br>
      All designs, interface layouts, and system logic are the intellectual property of WenBin.<br>
      © 2025 WenBin. 版权所有。<br>
      本系统的所有设计、界面及逻辑均由 WenBin 独立开发并享有知识产权。
    </div>
  </div>

  <!-- Embed the main system as a data URL to keep single-file -->
  <iframe id="app" src="data:text/html;base64,PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9InpoIj4KPGhlYWQ+CiAgPG1ldGEgY2hhcnNldD0iVVRGLTgiIC8+CiAgPHRpdGxlPumHkeWvjOWjq+mkkOWOhemAieW6p+ezu+e7n++8iOacgOe7iOeJiO+8mjIw5om5w5czMOe7hO+9nOaZuuiDveWvvOa4uOW9leWFpe+8iTwvdGl0bGU+CiAgPHN0eWxlPgogICAgYm9keSB7IGRpc3BsYXk6ZmxleDsgZm9udC1mYW1pbHk6c2Fucy1zZXJpZjsgbWFyZ2luOjA7IGJhY2tncm91bmQ6I2Y1ZjdmYjsgfQogICAgLnNpZGViYXIgeyB3aWR0aDozNDBweDsgcGFkZGluZzoxNHB4OyBiYWNrZ3JvdW5kOiNmZmY7IGJvcmRlci1yaWdodDoxcHggc29saWQgI2RkZDsgb3ZlcmZsb3cteTphdXRvOyB9CiAgICAuY29udGVudCB7IGZsZXg6MTsgcGFkZGluZzoxNHB4OyBkaXNwbGF5OmZsZXg7IGZsZXgtZGlyZWN0aW9uOmNvbHVtbjsgfQogICAgLmZsb29ycGxhbiB7IGRpc3BsYXk6Z3JpZDsgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOnJlcGVhdCgxMCwxMjBweCk7IGdhcDoxMnB4OyBtYXJnaW4tYm90dG9tOjE0cHg7IH0KICAgIC50YWJsZSB7IGJvcmRlci1yYWRpdXM6MTBweDsgcGFkZGluZzo4cHg7IG1pbi1oZWlnaHQ6OTBweDsgZm9udC1zaXplOjE0cHg7IHRleHQtYWxpZ246bGVmdDsgYm94LXNoYWRvdzowIDJweCA2cHggcmdiYSgwLDAsMCwwLjEpOyBiYWNrZ3JvdW5kOiNmZmY7IGJvcmRlcjoycHggc29saWQgI2U1ZTdlYjsgfQogICAgLnNtYWxsIHsgYmFja2dyb3VuZDojZWFmNWZmOyBib3JkZXItY29sb3I6I2I3ZDVmZjsgfQogICAgLm1lZGl1bSB7IGJhY2tncm91bmQ6I2U2ZmZlNjsgYm9yZGVyLWNvbG9yOiNhOGQ4YTg7IH0KICAgIC5sYXJnZSB7IGJhY2tncm91bmQ6I2ZmZjRkOTsgYm9yZGVyLWNvbG9yOiNmMWM5N2E7IGdyaWQtcm93OiBzcGFuIDI7IG1pbi1oZWlnaHQ6MTgwcHg7IH0KICAgIC5yZXN1bHRzLCAubWVhbFN0YXRzIHsgYmFja2dyb3VuZDojZmZmOyBib3JkZXI6MXB4IHNvbGlkICNkZGQ7IGJvcmRlci1yYWRpdXM6OHB4OyBwYWRkaW5nOjEwcHg7IG1hcmdpbi1ib3R0b206MTBweDsgd2hpdGUtc3BhY2U6cHJlLWxpbmU7IH0KICAgIC5mb290ZXIgeyBmb250LXNpemU6MTJweDsgY29sb3I6Z3JheTsgbWFyZ2luLXRvcDphdXRvOyB0ZXh0LWFsaWduOnJpZ2h0OyB9CiAgICAuZ3JvdXAtYm94IHsgbWFyZ2luLWJvdHRvbToxMHB4OyBwYWRkaW5nOjhweDsgYm9yZGVyOjFweCBzb2xpZCAjZGRkOyBib3JkZXItcmFkaXVzOjhweDsgYmFja2dyb3VuZDojZmZmOyB9CiAgICAuZ3JvdXAtYm94IGg0IHsgbWFyZ2luOjAgMCA2cHg7IGZvbnQtc2l6ZToxNHB4OyB9CiAgICAuZ3JvdXAtYm94IGxhYmVsIHsgZGlzcGxheTpibG9jazsgbWFyZ2luOjNweCAwOyBmb250LXNpemU6MTNweDsgfQogICAgLmdyb3VwLWJveCBpbnB1dCB7IHdpZHRoOjYwcHg7IH0KICAgIGJ1dHRvbiB7IG1hcmdpbjo2cHggNHB4IDAgMDsgcGFkZGluZzo2cHggMTBweDsgYm9yZGVyOjA7IGJvcmRlci1yYWRpdXM6NnB4OyBiYWNrZ3JvdW5kOiMyYjdjZmY7IGNvbG9yOiNmZmY7IGN1cnNvcjpwb2ludGVyOyB9CiAgICBidXR0b24uYWx0IHsgYmFja2dyb3VuZDojNmI3MjgwOyB9CiAgICAjdG90YWxQZW9wbGUgeyBmb250LXNpemU6MTNweDsgY29sb3I6IzQ0NDsgbWFyZ2luOjZweCAwOyB9CiAgICAuY29udHJvbC1yb3cgeyBkaXNwbGF5OmZsZXg7IGFsaWduLWl0ZW1zOmNlbnRlcjsgZ2FwOjhweDsgbWFyZ2luOjZweCAwIDEycHg7IH0KICAgIHNlbGVjdC5pbmxpbmUgeyBwYWRkaW5nOjZweDsgYm9yZGVyOjFweCBzb2xpZCAjZGRkOyBib3JkZXItcmFkaXVzOjZweDsgfQogICAgLnQtdGl0bGUgeyBmb250LXdlaWdodDo3MDA7IGZvbnQtc2l6ZToxNXB4OyBtYXJnaW4tYm90dG9tOjRweDsgfQogICAgLnQtZ3VpZGUgeyBjb2xvcjojMTExOyBmb250LXdlaWdodDo2MDA7IG1hcmdpbi1ib3R0b206MnB4OyB9CiAgICAudC1pdGVtcyBkaXYgeyBmb250LXdlaWdodDo3MDA7IH0KICAgIHRleHRhcmVhI2d1aWRlUGFzdGUgeyB3aWR0aDoxMDAlOyBoZWlnaHQ6MTQwcHg7IH0KICA8L3N0eWxlPgo8L2hlYWQ+Cjxib2R5PgogIDxkaXYgY2xhc3M9InNpZGViYXIiPgogICAgPGgzPuaJueasoeiuvue9rjwvaDM+CiAgICA8bGFiZWw+6YCJ5oup5om55qyh77yaPHNlbGVjdCBpZD0iYmF0Y2hTZWxlY3QiPjwvc2VsZWN0PjwvbGFiZWw+PGJyLz48YnIvPgogICAgPGxhYmVsPuWvvOa4uOWQjeWtl++8mjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iZ3VpZGVOYW1lIiBwbGFjZWhvbGRlcj0i6K+36L6T5YWl5a+85ri45aeT5ZCNIiAvPjwvbGFiZWw+CiAgICA8ZGl2IGlkPSJ0b3BBY3Rpb25zIj4KICAgICAgPGJ1dHRvbiBpZD0iYnRuQ2xlYXJUb3AiPua4heepuuacrOaJueasoTwvYnV0dG9uPgogICAgICA8YnV0dG9uIGlkPSJidG5Bc3NpZ25Ub3AiPuS4uuW9k+WJjeaJueasoeiHquWKqOWuieaOkuW6p+S9jTwvYnV0dG9uPgogICAgPC9kaXY+CgogICAgPGgzIHN0eWxlPSJtYXJnaW4tdG9wOjE0cHgiPuWvvOa4uOW/q+mAn+W9leWFpe+8iOaZuuiDveivhuWIq++8iTwvaDM+CiAgICA8dGV4dGFyZWEgaWQ9Imd1aWRlUGFzdGUiIHBsYWNlaG9sZGVyPSLnm7TmjqXnspjotLTlr7zmuLjmlofmnKzvvIjmlK/mjIHkuK0v6Iux5paH5YaS5Y+344CB56m65qC844CB6aG65bqP6ZSZ5Lmx44CB56m66KGM77yJ77yaCuWvvOa4uOWQje+8mueOi+WKm+Wujwox57uE77yaQkIKMue7hDogQ0MKM+e7hO+8mkNDCjTnu4TvvJpWCjXnu4TvvJpDQ0MKLi4u77yI5pyA5aSaMzDnu4TvvJtDPeeCuOm4oSBCPeWSjOeJmyBGPemzl+mxvCBWPee0oOmjnyBIPeeJm+iCiUhPVE8gRD3ppa7mlpnlhaXluqfvvIkiPjwvdGV4dGFyZWE+CiAgICA8YnV0dG9uIGlkPSJidG5QYXJzZUd1aWRlIj7or4bliKvlubbloavlhaU8L2J1dHRvbj4KCiAgICA8aDMgc3R5bGU9Im1hcmdpbi10b3A6MTRweCI+5Zui6Zif5b2V5YWlICgxLTMw57uEKTwvaDM+CiAgICA8ZGl2IGlkPSJ0b3RhbFBlb3BsZSI+5b2T5YmN5bey5aGr5YaZ5oC75Lq65pWw77yaMDwvZGl2PgogICAgPGxhYmVsPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9InRvZ2dsZUZpbGxlZE9ubHkiIC8+IOWPquaYvuekuuW3suWhq+WGmeeahOe7hOWIqzwvbGFiZWw+CiAgICA8ZGl2IGlkPSJncm91cHMiIHN0eWxlPSJtYXJnaW4tdG9wOjhweCI+PC9kaXY+CiAgICA8ZGl2IGlkPSJncm91cEFjdGlvbnMiPgogICAgICA8YnV0dG9uIGlkPSJidG5DbGVhciI+5riF56m65pys5om55qyhPC9idXR0b24+CiAgICAgIDxidXR0b24gaWQ9ImJ0bkFzc2lnbiI+5Li65b2T5YmN5om55qyh6Ieq5Yqo5a6J5o6S5bqn5L2NPC9idXR0b24+CiAgICA8L2Rpdj4KICA8L2Rpdj4KCiAgPGRpdiBjbGFzcz0iY29udGVudCI+CiAgICA8ZGl2IGNsYXNzPSJjb250cm9sLXJvdyI+CiAgICAgIDxkaXY+5bey6ZSB5om55qyh77yI5YWI5p2l5YWI5Yiw77yM5omL5Yqo6YeK5pS+77yJ77yaPC9kaXY+CiAgICAgIDxzZWxlY3QgaWQ9ImxvY2tlZExpc3QiIGNsYXNzPSJpbmxpbmUiPjwvc2VsZWN0PgogICAgICA8YnV0dG9uIGlkPSJidG5SZWxlYXNlIj7ph4rmlL7miYDpgInmibnmrKE8L2J1dHRvbj4KICAgIDwvZGl2PgoKICAgIDxkaXYgY2xhc3M9ImZsb29ycGxhbiIgaWQ9ImZsb29ycGxhbiI+PC9kaXY+CgogICAgPGRpdiBjbGFzcz0icmVzdWx0cyI+CiAgICAgIDxoMz7liIbphY3nu5Pmnpw8L2gzPgogICAgICA8cHJlIGlkPSJyZXN1bHQiPjwvcHJlPgogICAgICA8ZGl2IGlkPSJydWxlSGludCIgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOiM2NjY7bWFyZ2luLXRvcDo0cHg7Ij7liIbphY3op4TliJnvvIjnsr7nroDvvInvvJoKLSA05Lq65qGM5Y+q5YWB6K6477yaNCAvIDIrMiAvIDIrMe+8m+S8mOWFiCBBIOKGkiBCIOKGkiBDMyDihpIgQzQg4oaSIDYv5aSn5qGM44CCCi0gM+S6uu+8muS8mOWFiCA05Lq65qGMIOKGkiBDNCDihpIgTDEvTDIg4oaSIEM4IOKGkiBDOSDihpIgNuS6uuahjOOAggotIDbkurrmoYzkvJjlhYjvvJo1Lzbkurrnu4TvvJvlvZMgNOS6uuahjOS4juWkp+ahjOmDveeUqOWujO+8jOaJjeWcqCA2IOS6uuahjOaLvO+8mjMrMiDihpIgMyszIOKGkiAyKzLjgIIKLSAx4oCTMuS6uu+8muS8mOWFiCBDNCDihpIgTDEvTDIg4oaSIEM4IOKGkiBDOe+8iOmBv+WFjeWNoCA0IOS6uuahjO+8ieOAggotIOmUgeW6p+S4uuKAnOWFiOadpeWFiOWIsOKAnemYn+WIl++8iOS7heaJi+WKqOmHiuaUvu+8ie+8jOWQpuWImeS/neaMgemUgeWumu+8m+W5s+mdouWbvuWPoOWKoOaYvuekuuaJgOacieW3sumUgeaJueasoeOAggrnroDlhpnvvJpDPeeCuOm4oe+8jEI95ZKM54mb77yMRj3ps5fpsbzvvIxWPee0oOmjn++8jEg954mb6IKJSE9UT++8jEQ96aWu5paZ5YWl5bqnPC9kaXY+CiAgICA8L2Rpdj4KCiAgICA8ZGl2IGNsYXNzPSJtZWFsU3RhdHMiPjxoMz7nlKjppJDnu5/orqE8L2gzPjxwcmUgaWQ9Im1lYWxTdGF0c1RleHQiPjwvcHJlPjwvZGl2PgogICAgCjxkaXYgY2xhc3M9ImZvb3RlciIgc3R5bGU9ImZvbnQtc2l6ZToxMnB4O2NvbG9yOiMwMDA7dGV4dC1hbGlnbjpyaWdodDtsaW5lLWhlaWdodDoxLjY7bWFyZ2luLXRvcDphdXRvOyI+CsKpIDIwMjUgV2VuQmluLiBBbGwgcmlnaHRzIHJlc2VydmVkLjxicj4KQWxsIGRlc2lnbnMsIGludGVyZmFjZSBsYXlvdXRzLCBhbmQgc3lzdGVtIGxvZ2ljIGFyZSB0aGUgaW50ZWxsZWN0dWFsIHByb3BlcnR5IG9mIFdlbkJpbi48YnI+CsKpIDIwMjUgV2VuQmluLiDniYjmnYPmiYDmnInjgII8YnI+CuacrOezu+e7n+eahOaJgOacieiuvuiuoeOAgeeVjOmdouWPiumAu+i+keWdh+eUsSBXZW5CaW4g54us56uL5byA5Y+R5bm25Lqr5pyJ55+l6K+G5Lqn5p2D44CCCjwvZGl2PgoKICA8L2Rpdj4KCjxzY3JpcHQ+CmNvbnN0IGZsb29ycGxhbkVsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmbG9vcnBsYW4nKTsKY29uc3QgcmVzdWx0RWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdCcpOwpjb25zdCBtZWFsU3RhdHNFbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVhbFN0YXRzVGV4dCcpOwpjb25zdCBiYXRjaFNlbGVjdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmF0Y2hTZWxlY3QnKTsKY29uc3QgZ3JvdXBzRWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyb3VwcycpOwpjb25zdCBndWlkZU5hbWVJbnB1dD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3VpZGVOYW1lJyk7CmNvbnN0IHRvdGFsUGVvcGxlRWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsUGVvcGxlJyk7CmNvbnN0IGxvY2tlZExpc3RFbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9ja2VkTGlzdCcpOwoKZm9yKGxldCBpPTE7aTw9MjA7aSsrKXtjb25zdCBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpO28udmFsdWU9aTtvLnRleHRDb250ZW50PWDnrKwke2l95om5YDtiYXRjaFNlbGVjdC5hcHBlbmRDaGlsZChvKTt9Cgpjb25zdCBNRU5VPVsn54K46bih5aWX6aSQJywn5ZKM54mb5aWX6aSQJywn6bOX6bG85aWX6aSQJywn57Sg6aOf5aWX6aSQJywn54mb6IKJSE9UTycsJ+mlruaWmeWFpeW6pyddOwpjb25zdCBTSE9SVD17J+eCuOm4oeWll+mkkCc6J0MnLCflkozniZvlpZfppJAnOidCJywn6bOX6bG85aWX6aSQJzonRicsJ+e0oOmjn+Wll+mkkCc6J1YnLCfniZvogolIT1RPJzonSCcsJ+mlruaWmeWFpeW6pyc6J0QnfTsKZm9yKGxldCBpPTE7aTw9MzA7aSsrKXsKICBjb25zdCBib3g9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgYm94LmNsYXNzTmFtZT0nZ3JvdXAtYm94JzsgYm94LmlkPWBncm91cEJveCR7aX1gOwogIGxldCBodG1sPWA8aDQ+JHtpfee7hDwvaDQ+YDsKICBNRU5VLmZvckVhY2gobT0+e2h0bWwrPWA8bGFiZWw+JHttfTo8aW5wdXQgdHlwZT0ibnVtYmVyIiBpZD0iZyR7aX1fJHttfSIgbWluPSIwIiB2YWx1ZT0iMCI+PC9sYWJlbD5gfSk7CiAgYm94LmlubmVySFRNTD1odG1sOyBncm91cHNFbC5hcHBlbmRDaGlsZChib3gpOwp9Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlRmlsbGVkT25seScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKT0+ewogIGNvbnN0IG9ubHk9ZS50YXJnZXQuY2hlY2tlZDsKICBmb3IobGV0IGk9MTtpPD0zMDtpKyspewogICAgY29uc3Qgc3o9Z3JvdXBTaXplKGkpLnNpemU7IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBncm91cEJveCR7aX1gKS5zdHlsZS5kaXNwbGF5PShvbmx5ICYmICFzeik/J25vbmUnOicnOwogIH0KfSk7Cgpjb25zdCB0YWJsZXM9W107CmZvcihsZXQgaT0xO2k8PTEwO2krKykgdGFibGVzLnB1c2goe2lkOmBBJHtpfWAsc2VhdHM6NCx6b25lOidBJ30pOwpmb3IobGV0IGk9MTtpPD0xNTtpKyspIHRhYmxlcy5wdXNoKHtpZDpgQiR7aX1gLHNlYXRzOjQsem9uZTonQid9KTsKZm9yKGxldCBpPTE7aTw9MTQ7aSsrKXsKICBpZihpPT09MykgdGFibGVzLnB1c2goe2lkOidDMycsc2VhdHM6NCx6b25lOidDJ30pOwogIGVsc2UgaWYoaT09PTQpIHRhYmxlcy5wdXNoKHtpZDonQzQnLHNlYXRzOjEyLHpvbmU6J0MnfSk7CiAgZWxzZSBpZihpPT09OCkgdGFibGVzLnB1c2goe2lkOidDOCcsc2VhdHM6MTAsem9uZTonQyd9KTsKICBlbHNlIGlmKGk9PT05KSB0YWJsZXMucHVzaCh7aWQ6J0M5JyxzZWF0czoxMCx6b25lOidDJ30pOwogIGVsc2UgaWYoaT09PTEwKSBjb250aW51ZTsKICBlbHNlIHRhYmxlcy5wdXNoKHtpZDpgQyR7aX1gLHNlYXRzOjYsem9uZTonQyd9KTsKfQpbJ0wxJywnTDInXS5mb3JFYWNoKGlkPT50YWJsZXMucHVzaCh7aWQsc2VhdHM6MTYsem9uZTonTCd9KSk7Cgpjb25zdCB0YWJsZUJ5SWQ9e307IGNvbnN0IHRhYmxlTWFwPXt9OwpmdW5jdGlvbiByZW5kZXJGbG9vcnBsYW4oKXsKICBmbG9vcnBsYW5FbC5pbm5lckhUTUw9Jyc7CiAgdGFibGVzLmZvckVhY2godD0+ewogICAgY29uc3QgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICAgIGQuY2xhc3NOYW1lPSd0YWJsZSAnKyh0LnNlYXRzPT09ND8nc21hbGwnOnQuc2VhdHM9PT02PydtZWRpdW0nOidsYXJnZScpOwogICAgaWYodC5zZWF0cz49MTApeyBkLmNsYXNzTGlzdC5hZGQoJ2xhcmdlJyk7IH0KICAgIGQuaWQ9YHRhYmxlXyR7dC5pZH1gOwogICAgZC5pbm5lckhUTUw9YDxkaXYgY2xhc3M9J3QtdGl0bGUnPiR7dC5pZH08L2Rpdj5gOwogICAgZmxvb3JwbGFuRWwuYXBwZW5kQ2hpbGQoZCk7CiAgICB0YWJsZUJ5SWRbdC5pZF09dDsgdGFibGVNYXBbdC5pZF09e2luZm86dCxlbDpkfTsKICB9KTsKfQpyZW5kZXJGbG9vcnBsYW4oKTsKCmNvbnN0IGJhdGNoSW5wdXRzPXt9Owpjb25zdCBiYXRjaEFzc2lnbm1lbnRzPXt9Owpjb25zdCBiYXRjaEd1aWRlcz17fTsKbGV0IGxvY2tlZE9yZGVyPVtdOwpjb25zdCBMT0NLX0xJTUlUPUluZmluaXR5OwoKZnVuY3Rpb24gaW5Mb2NrZWQoYil7IHJldHVybiBsb2NrZWRPcmRlci5pbmNsdWRlcyhiKTsgfQpmdW5jdGlvbiBwdXNoTG9jayhiKXsgaWYoIWluTG9ja2VkKGIpKXsgbG9ja2VkT3JkZXIucHVzaChiKTsgaWYobG9ja2VkT3JkZXIubGVuZ3RoPkxPQ0tfTElNSVQpeyBsb2NrZWRPcmRlci5zaGlmdCgpOyB9IHJlZnJlc2hMb2NrZWRMaXN0KCk7IHJlbmRlckFzc2lnbm1lbnRzKCk7IH0gfQpmdW5jdGlvbiByZWxlYXNlTG9jayhiKXsgbG9ja2VkT3JkZXI9bG9ja2VkT3JkZXIuZmlsdGVyKHg9PnghPT1iKTsgcmVmcmVzaExvY2tlZExpc3QoKTsgcmVuZGVyQXNzaWdubWVudHMoKTsgfQpmdW5jdGlvbiByZWZyZXNoTG9ja2VkTGlzdCgpeyBsb2NrZWRMaXN0RWwuaW5uZXJIVE1MPScnOyBsb2NrZWRPcmRlci5mb3JFYWNoKGI9PnsgY29uc3Qgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTsgby52YWx1ZT1iOyBvLnRleHRDb250ZW50PWDnrKwke2J95om5YDsgbG9ja2VkTGlzdEVsLmFwcGVuZENoaWxkKG8pOyB9KTsgfQoKZnVuY3Rpb24gc2F2ZUlucHV0cyhiYXRjaCl7CiAgY29uc3QgZGF0YT17fTsKICBmb3IobGV0IGk9MTtpPD0zMDtpKyspeyBjb25zdCB2YWxzPXt9OyBNRU5VLmZvckVhY2gobT0+dmFsc1ttXT0rZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGcke2l9XyR7bX1gKS52YWx1ZXx8MCk7IGRhdGFbaV09dmFsczsgfQogIGJhdGNoSW5wdXRzW2JhdGNoXT1kYXRhOyBiYXRjaEd1aWRlc1tiYXRjaF09Z3VpZGVOYW1lSW5wdXQudmFsdWU7Cn0KZnVuY3Rpb24gbG9hZElucHV0cyhiYXRjaCl7CiAgaWYoYmF0Y2hJbnB1dHNbYmF0Y2hdKXsgZm9yKGxldCBpPTE7aTw9MzA7aSsrKXsgTUVOVS5mb3JFYWNoKG09PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBnJHtpfV8ke219YCkudmFsdWU9YmF0Y2hJbnB1dHNbYmF0Y2hdW2ldW21dKTsgfSB9CiAgZWxzZSB7IGZvcihsZXQgaT0xO2k8PTMwO2krKyl7IE1FTlUuZm9yRWFjaChtPT5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZyR7aX1fJHttfWApLnZhbHVlPTApOyB9IH0KICBpZihiYXRjaEd1aWRlc1tiYXRjaF0hPT11bmRlZmluZWQpeyBndWlkZU5hbWVJbnB1dC52YWx1ZT1iYXRjaEd1aWRlc1tiYXRjaF07IH0gZWxzZSB7IGd1aWRlTmFtZUlucHV0LnZhbHVlPScnOyB9CiAgdXBkYXRlVG90YWxQZW9wbGUoKTsKfQpmdW5jdGlvbiBjbGVhcklucHV0cygpewogIGNvbnN0IGJhdGNoPXBhcnNlSW50KGJhdGNoU2VsZWN0LnZhbHVlKTsKICBmb3IobGV0IGk9MTtpPD0zMDtpKyspeyBNRU5VLmZvckVhY2gobT0+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGcke2l9XyR7bX1gKS52YWx1ZT0wKTsgfQogIGd1aWRlTmFtZUlucHV0LnZhbHVlPScnOwogIGRlbGV0ZSBiYXRjaElucHV0c1tiYXRjaF07IGRlbGV0ZSBiYXRjaEFzc2lnbm1lbnRzW2JhdGNoXTsgZGVsZXRlIGJhdGNoR3VpZGVzW2JhdGNoXTsKICByZWxlYXNlTG9jayhiYXRjaCk7CiAgcmVzdWx0RWwudGV4dENvbnRlbnQ9Jyc7CiAgcmVuZGVyQXNzaWdubWVudHMoKTsgdXBkYXRlVG90YWxQZW9wbGUoKTsgdXBkYXRlTWVhbFN0YXRzKCk7Cn0KZnVuY3Rpb24gZ3JvdXBTaXplKGkpewogIGNvbnN0IGdldD0obSk9PiArZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGcke2l9XyR7bX1gKS52YWx1ZSB8fCAwOwogIGNvbnN0IGM9Z2V0KCfngrjpuKHlpZfppJAnKSwgYj1nZXQoJ+WSjOeJm+Wll+mkkCcpLCBmPWdldCgn6bOX6bG85aWX6aSQJyksIHY9Z2V0KCfntKDpo5/lpZfppJAnKSwgaD1nZXQoJ+eJm+iCiUhPVE8nKSwgZD1nZXQoJ+mlruaWmeWFpeW6pycpOwogIGNvbnN0IHNpemU9YytiK2YrditoK2Q7IHJldHVybiB7c2l6ZSwgY291bnRzOntDOmMsQjpiLEY6ZixWOnYsSDpoLEQ6ZH19Owp9CmZ1bmN0aW9uIHVwZGF0ZVRvdGFsUGVvcGxlKCl7IGxldCB0b3RhbD0wOyBmb3IobGV0IGk9MTtpPD0zMDtpKyspeyB0b3RhbCs9Z3JvdXBTaXplKGkpLnNpemU7IH0gdG90YWxQZW9wbGVFbC50ZXh0Q29udGVudD1g5b2T5YmN5bey5aGr5YaZ5oC75Lq65pWw77yaJHt0b3RhbH1gOyB1cGRhdGVNZWFsU3RhdHMoKTsgfQoKZnVuY3Rpb24gdXBkYXRlTWVhbFN0YXRzKCl7CiAgY29uc3QgdG90YWxzPXt9OyBNRU5VLmZvckVhY2gobT0+dG90YWxzW21dPTApOwogIE9iamVjdC52YWx1ZXMoYmF0Y2hJbnB1dHMpLmZvckVhY2goYmF0Y2hEYXRhPT57IGZvcihsZXQgaT0xO2k8PTMwO2krKyl7IE1FTlUuZm9yRWFjaChtPT4gdG90YWxzW21dKz1iYXRjaERhdGFbaV1bbV0pOyB9IH0pOwogIGNvbnN0IHJhbmdlcz1bCiAgICB7bGFiZWw6JzEtNeaJuScsc3RhcnQ6MSxlbmQ6NX0sCiAgICB7bGFiZWw6JzYtMTDmibknLHN0YXJ0OjYsZW5kOjEwfSwKICAgIHtsYWJlbDonMTEtMTXmibknLHN0YXJ0OjExLGVuZDoxNX0sCiAgICB7bGFiZWw6JzE2LTIw5om5JyxzdGFydDoxNixlbmQ6MjB9LAogIF07CiAgY29uc3QgbGluZXM9W107IHJhbmdlcy5mb3JFYWNoKHI9PnsgY29uc3Qgc3ViPXt9OyBNRU5VLmZvckVhY2gobT0+c3ViW21dPTApOyBmb3IobGV0IGI9ci5zdGFydDtiPD1yLmVuZDtiKyspeyBpZihiYXRjaElucHV0c1tiXSl7IGZvcihsZXQgaT0xO2k8PTMwO2krKyl7IE1FTlUuZm9yRWFjaChtPT4gc3ViW21dKz1iYXRjaElucHV0c1tiXVtpXVttXSk7IH0gfSB9IGxpbmVzLnB1c2goYCR7ci5sYWJlbH06YCk7IE1FTlUuZm9yRWFjaChtPT4gbGluZXMucHVzaChgICAke219OiAke3N1YlttXX3ku71gKSk7IGxpbmVzLnB1c2goJycpOyB9KTsKICBsaW5lcy5wdXNoKCflhajpg6jmgLvorqE6Jyk7IE1FTlUuZm9yRWFjaChtPT4gbGluZXMucHVzaChgICAke219OiAke3RvdGFsc1ttXX3ku71gKSk7CiAgbWVhbFN0YXRzRWwudGV4dENvbnRlbnQ9bGluZXMuam9pbignXG4nKTsKfQoKZnVuY3Rpb24gY29tcHV0ZUxvY2tlZFVzYWdlKGV4Y2x1ZGVCYXRjaCl7CiAgY29uc3QgbG9ja2VkU21hbGxNZWRpdW09bmV3IFNldCgpOwogIGNvbnN0IGxvY2tlZExhcmdlVXNlZD17fTsKICBsb2NrZWRPcmRlci5mb3JFYWNoKGI9PnsKICAgIGlmKGI9PT1leGNsdWRlQmF0Y2gpIHJldHVybjsKICAgIChiYXRjaEFzc2lnbm1lbnRzW2JdfHxbXSkuZm9yRWFjaChhPT57CiAgICAgIGlmKCFhLnRhYmxlIHx8IGEudGFibGU9PT0n5pyq5YiG6YWNJykgcmV0dXJuOwogICAgICBhLnRhYmxlLnNwbGl0KCcrJykuZm9yRWFjaChpZD0+ewogICAgICAgIGNvbnN0IHQ9dGFibGVCeUlkW2lkXTsgaWYoIXQpIHJldHVybjsKICAgICAgICBjb25zdCBzZWF0c1VzZWQgPSBhLmdyb3Vwcy5yZWR1Y2UoKHMsZyk9PiBzICsgZy5zaXplLCAwKTsKICAgICAgICBpZih0LnNlYXRzPj0xMCl7IGxvY2tlZExhcmdlVXNlZFtpZF09KGxvY2tlZExhcmdlVXNlZFtpZF18fDApICsgc2VhdHNVc2VkOyB9CiAgICAgICAgZWxzZSB7IGxvY2tlZFNtYWxsTWVkaXVtLmFkZChpZCk7IH0KICAgICAgfSk7CiAgICB9KTsKICB9KTsKICByZXR1cm4ge2xvY2tlZFNtYWxsTWVkaXVtLCBsb2NrZWRMYXJnZVVzZWR9Owp9CgpmdW5jdGlvbiBtYWtlQmlnQWxsb2NhdG9yKGxvY2tlZExhcmdlVXNlZCl7CiAgY29uc3QgT1JERVI9WydDNCcsJ0wxJywnTDInLCdDOCcsJ0M5J107CiAgY29uc3QgYmlnQXZhaWw9e307IE9SREVSLmZvckVhY2goaWQ9PnsgY29uc3QgdD10YWJsZUJ5SWRbaWRdOyBiaWdBdmFpbFtpZF09IE1hdGgubWF4KDAsIHQuc2VhdHMgLSAobG9ja2VkTGFyZ2VVc2VkW2lkXXx8MCkpOyB9KTsKICBmdW5jdGlvbiBhbGxvYyhuZWVkKXsKICAgIGZvcihjb25zdCBpZCBvZiBPUkRFUil7IGlmKGJpZ0F2YWlsW2lkXSA+PSBuZWVkKXsgYmlnQXZhaWxbaWRdLT1uZWVkOyByZXR1cm4gaWQ7IH0gfQogICAgbGV0IGJlc3Q9bnVsbDsgZm9yKGNvbnN0IGlkIG9mIE9SREVSKXsgaWYoYmlnQXZhaWxbaWRdID49IG5lZWQpeyBpZighYmVzdCB8fCBiaWdBdmFpbFtpZF0gPCBiaWdBdmFpbFtiZXN0XSkgYmVzdD1pZDsgfSB9CiAgICBpZihiZXN0KXsgYmlnQXZhaWxbYmVzdF0tPW5lZWQ7IHJldHVybiBiZXN0OyB9CiAgICByZXR1cm4gbnVsbDsKICB9CiAgZnVuY3Rpb24gdG90YWxBdmFpbCgpeyByZXR1cm4gT1JERVIucmVkdWNlKChzLGlkKT0+IHMgKyBiaWdBdmFpbFtpZF0sIDApOyB9CiAgcmV0dXJuIHthbGxvYywgdG90YWxBdmFpbCwgYmlnQXZhaWx9Owp9CgpmdW5jdGlvbiBhc3NpZ25DdXJyZW50QmF0Y2goKXsKICBjb25zdCBiYXRjaD1wYXJzZUludChiYXRjaFNlbGVjdC52YWx1ZSk7CiAgc2F2ZUlucHV0cyhiYXRjaCk7CgogIGNvbnN0IGdyb3Vwcz1bXTsgZm9yKGxldCBpPTE7aTw9MzA7aSsrKXsgY29uc3QgZz1ncm91cFNpemUoaSk7IGlmKGcuc2l6ZT4wKSBncm91cHMucHVzaCh7aWQ6aSxzaXplOmcuc2l6ZSxjb3VudHM6Zy5jb3VudHN9KTsgfQoKICBjb25zdCB7bG9ja2VkU21hbGxNZWRpdW0sIGxvY2tlZExhcmdlVXNlZH09Y29tcHV0ZUxvY2tlZFVzYWdlKGJhdGNoKTsKICBjb25zdCBzbWFsbEEgPSB0YWJsZXMuZmlsdGVyKHQ9PnQuc2VhdHM9PT00ICYmIHQuem9uZT09PSdBJyAmJiAhbG9ja2VkU21hbGxNZWRpdW0uaGFzKHQuaWQpKTsKICBjb25zdCBzbWFsbEIgPSB0YWJsZXMuZmlsdGVyKHQ9PnQuc2VhdHM9PT00ICYmIHQuem9uZT09PSdCJyAmJiAhbG9ja2VkU21hbGxNZWRpdW0uaGFzKHQuaWQpKTsKICBsZXQgYzNGcmVlID0gIWxvY2tlZFNtYWxsTWVkaXVtLmhhcygnQzMnKTsKICBjb25zdCBtZWRpdW0gPSB0YWJsZXMuZmlsdGVyKHQ9PnQuc2VhdHM9PT02ICYmICFsb2NrZWRTbWFsbE1lZGl1bS5oYXModC5pZCkpOwogIGNvbnN0IGJpZyA9IG1ha2VCaWdBbGxvY2F0b3IobG9ja2VkTGFyZ2VVc2VkKTsKCiAgY29uc3QgYXNzaWdubWVudHM9W107CgogIGNvbnN0IGc3cGx1cz1ncm91cHMuZmlsdGVyKGc9Pmcuc2l6ZT49Nykuc29ydCgoYSxiKT0+Yi5zaXplLWEuc2l6ZSk7CiAgY29uc3QgZzY9Z3JvdXBzLmZpbHRlcihnPT5nLnNpemU9PT02KTsKICBjb25zdCBnNT1ncm91cHMuZmlsdGVyKGc9Pmcuc2l6ZT09PTUpOwogIGNvbnN0IGc0PWdyb3Vwcy5maWx0ZXIoZz0+Zy5zaXplPT09NCk7CiAgbGV0IGczPWdyb3Vwcy5maWx0ZXIoZz0+Zy5zaXplPT09Myk7CiAgbGV0IGcyPWdyb3Vwcy5maWx0ZXIoZz0+Zy5zaXplPT09Mik7CiAgbGV0IGcxPWdyb3Vwcy5maWx0ZXIoZz0+Zy5zaXplPT09MSk7CgogIGc3cGx1cy5mb3JFYWNoKGc9PnsgY29uc3QgdD1iaWcuYWxsb2MoZy5zaXplKTsgYXNzaWdubWVudHMucHVzaCh7dGFibGU6dHx8J+acquWIhumFjScsZ3JvdXBzOltnXX0pOyB9KTsKICBnNi5jb25jYXQoZzUpLmZvckVhY2goZz0+eyBjb25zdCB0PShtZWRpdW0uc2hpZnQoKXx8e30pLmlkIHx8IGJpZy5hbGxvYyhnLnNpemUpOyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0fHwn5pyq5YiG6YWNJyxncm91cHM6W2ddfSk7IH0pOwogIGc0LmZvckVhY2goZz0+ewogICAgY29uc3QgdEE9KHNtYWxsQS5zaGlmdCgpfHx7fSkuaWQ7IGlmKHRBKXsgYXNzaWdubWVudHMucHVzaCh7dGFibGU6dEEsZ3JvdXBzOltnXX0pOyByZXR1cm47IH0KICAgIGNvbnN0IHRCPShzbWFsbEIuc2hpZnQoKXx8e30pLmlkOyBpZih0Qil7IGFzc2lnbm1lbnRzLnB1c2goe3RhYmxlOnRCLGdyb3VwczpbZ119KTsgcmV0dXJuOyB9CiAgICBpZihjM0ZyZWUpeyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTonQzMnLGdyb3VwczpbZ119KTsgYzNGcmVlPWZhbHNlOyByZXR1cm47IH0KICAgIGNvbnN0IHRMPWJpZy5hbGxvYyg0KTsgaWYodEwpeyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0TCxncm91cHM6W2ddfSk7IHJldHVybjsgfQogICAgY29uc3QgdE09KG1lZGl1bS5zaGlmdCgpfHx7fSkuaWQ7IGlmKHRNKXsgYXNzaWdubWVudHMucHVzaCh7dGFibGU6dE0sZ3JvdXBzOltnXX0pOyByZXR1cm47IH0KICAgIGFzc2lnbm1lbnRzLnB1c2goe3RhYmxlOifmnKrliIbphY0nLGdyb3VwczpbZ119KTsKICB9KTsKICBjb25zdCBwYWlyczQ9W107IHdoaWxlKGcyLmxlbmd0aD49Mil7IHBhaXJzNC5wdXNoKFtnMi5zaGlmdCgpLCBnMi5zaGlmdCgpXSk7IH0gd2hpbGUoZzIubGVuZ3RoICYmIGcxLmxlbmd0aCl7IHBhaXJzNC5wdXNoKFtnMi5zaGlmdCgpLCBnMS5zaGlmdCgpXSk7IH0KICBwYWlyczQuZm9yRWFjaChwYWlyPT57CiAgICBjb25zdCBuZWVkPXBhaXJbMF0uc2l6ZStwYWlyWzFdLnNpemU7CiAgICBjb25zdCB0QT0oc21hbGxBLnNoaWZ0KCl8fHt9KS5pZDsgaWYodEEpeyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0QSxncm91cHM6cGFpcn0pOyByZXR1cm47IH0KICAgIGNvbnN0IHRCPShzbWFsbEIuc2hpZnQoKXx8e30pLmlkOyBpZih0Qil7IGFzc2lnbm1lbnRzLnB1c2goe3RhYmxlOnRCLGdyb3VwczpwYWlyfSk7IHJldHVybjsgfQogICAgaWYobmVlZD09PTQpeyBjb25zdCB0TD1iaWcuYWxsb2MoNCk7IGlmKHRMKXsgYXNzaWdubWVudHMucHVzaCh7dGFibGU6dEwsZ3JvdXBzOnBhaXJ9KTsgcmV0dXJuOyB9IGNvbnN0IHRNPShtZWRpdW0uc2hpZnQoKXx8e30pLmlkOyBpZih0TSl7IGFzc2lnbm1lbnRzLnB1c2goe3RhYmxlOnRNLGdyb3VwczpwYWlyfSk7IHJldHVybjsgfSB9CiAgICBpZihuZWVkPT09Myl7IGNvbnN0IHRMPWJpZy5hbGxvYygzKTsgaWYodEwpeyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0TCxncm91cHM6cGFpcn0pOyByZXR1cm47IH0gY29uc3QgdE09KG1lZGl1bS5zaGlmdCgpfHx7fSkuaWQ7IGlmKHRNKXsgYXNzaWdubWVudHMucHVzaCh7dGFibGU6dE0sZ3JvdXBzOnBhaXJ9KTsgcmV0dXJuOyB9IH0KICAgIGFzc2lnbm1lbnRzLnB1c2goe3RhYmxlOifmnKrliIbphY0nLGdyb3VwczpwYWlyfSk7CiAgfSk7CiAgZzMuZm9yRWFjaChnPT57CiAgICBjb25zdCB0QT0oc21hbGxBLnNoaWZ0KCl8fHt9KS5pZDsgaWYodEEpeyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0QSxncm91cHM6W2ddfSk7IHJldHVybjsgfQogICAgY29uc3QgdEI9KHNtYWxsQi5zaGlmdCgpfHx7fSkuaWQ7IGlmKHRCKXsgYXNzaWdubWVudHMucHVzaCh7dGFibGU6dEIsZ3JvdXBzOltnXX0pOyByZXR1cm47IH0KICAgIGNvbnN0IHRMPWJpZy5hbGxvYygzKTsgaWYodEwpeyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0TCxncm91cHM6W2ddfSk7IHJldHVybjsgfQogICAgY29uc3QgdE09KG1lZGl1bS5zaGlmdCgpfHx7fSkuaWQ7IGlmKHRNKXsgYXNzaWdubWVudHMucHVzaCh7dGFibGU6dE0sZ3JvdXBzOltnXX0pOyByZXR1cm47IH0KICAgIGFzc2lnbm1lbnRzLnB1c2goe3RhYmxlOifmnKrliIbphY0nLGdyb3VwczpbZ119KTsKICB9KTsKICBjb25zdCBub1NtYWxsT3JCaWc9KHNtYWxsQS5sZW5ndGgrc21hbGxCLmxlbmd0aCsoYzNGcmVlPzE6MCkpPT09MCAmJiAoYmlnLnRvdGFsQXZhaWwoKT09PTApOwogIGlmKG5vU21hbGxPckJpZyl7CiAgICB3aGlsZShnMy5sZW5ndGggJiYgZzIubGVuZ3RoICYmIG1lZGl1bS5sZW5ndGgpeyBjb25zdCB0PW1lZGl1bS5zaGlmdCgpOyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0LmlkLGdyb3VwczpbZzMuc2hpZnQoKSwgZzIuc2hpZnQoKV19KTsgfQogICAgd2hpbGUoZzMubGVuZ3RoPj0yICYmIG1lZGl1bS5sZW5ndGgpeyBjb25zdCB0PW1lZGl1bS5zaGlmdCgpOyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0LmlkLGdyb3VwczpbZzMuc2hpZnQoKSwgZzMuc2hpZnQoKV19KTsgfQogICAgd2hpbGUoZzIubGVuZ3RoPj0yICYmIG1lZGl1bS5sZW5ndGgpeyBjb25zdCB0PW1lZGl1bS5zaGlmdCgpOyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0LmlkLGdyb3VwczpbZzIuc2hpZnQoKSwgZzIuc2hpZnQoKV19KTsgfQogIH0KICBnMi5mb3JFYWNoKGc9PnsgY29uc3QgdD1iaWcuYWxsb2MoMikgfHwgKG1lZGl1bS5zaGlmdCgpfHx7fSkuaWQ7IGFzc2lnbm1lbnRzLnB1c2goe3RhYmxlOnR8fCfmnKrliIbphY0nLGdyb3VwczpbZ119KTsgfSk7CiAgZzEuZm9yRWFjaChnPT57IGNvbnN0IHQ9YmlnLmFsbG9jKDEpIHx8IChtZWRpdW0uc2hpZnQoKXx8e30pLmlkOyBhc3NpZ25tZW50cy5wdXNoKHt0YWJsZTp0fHwn5pyq5YiG6YWNJyxncm91cHM6W2ddfSk7IH0pOwoKICBiYXRjaEFzc2lnbm1lbnRzW2JhdGNoXT1hc3NpZ25tZW50czsKICBwdXNoTG9jayhiYXRjaCk7CgogIGNvbnN0IGd1aWRlPWd1aWRlTmFtZUlucHV0LnZhbHVlfHwnJzsKICBjb25zdCBsaW5lcz1bYOesrCR7YmF0Y2h95om5ICjlr7zmuLg6JHtndWlkZX0pIOWIhumFjee7k+aenO+8mmBdOwogIGFzc2lnbm1lbnRzLmZvckVhY2goYT0+ewogICAgY29uc3QgZD1hLmdyb3Vwcy5tYXAoZz0+ewogICAgICBjb25zdCBkYXRhPWJhdGNoSW5wdXRzW2JhdGNoXT8uW2cuaWRdfHx7fTsKICAgICAgY29uc3Qgc2Vncz1bCiAgICAgICAgZGF0YVsn54K46bih5aWX6aSQJ10/YOeCuOm4oeWll+mkkCoke2RhdGFbJ+eCuOm4oeWll+mkkCddfWA6JycsCiAgICAgICAgZGF0YVsn5ZKM54mb5aWX6aSQJ10/YOWSjOeJm+Wll+mkkCoke2RhdGFbJ+WSjOeJm+Wll+mkkCddfWA6JycsCiAgICAgICAgZGF0YVsn6bOX6bG85aWX6aSQJ10/YOmzl+mxvOWll+mkkCoke2RhdGFbJ+mzl+mxvOWll+mkkCddfWA6JycsCiAgICAgICAgZGF0YVsn57Sg6aOf5aWX6aSQJ10/YOe0oOmjn+Wll+mkkCoke2RhdGFbJ+e0oOmjn+Wll+mkkCddfWA6JycsCiAgICAgICAgZGF0YVsn54mb6IKJSE9UTyddP2DniZvogolIT1RPKiR7ZGF0YVsn54mb6IKJSE9UTyddfWA6JycsCiAgICAgICAgZGF0YVsn6aWu5paZ5YWl5bqnJ10/YOmlruaWmeWFpeW6pyoke2RhdGFbJ+mlruaWmeWFpeW6pyddfWA6JycKICAgICAgXS5maWx0ZXIoQm9vbGVhbikuam9pbign77yMJyk7CiAgICAgIHJldHVybiBg56ysJHtnLmlkfee7hCgke2cuc2l6ZX3kuropOiAke3NlZ3N9YDsKICAgIH0pLmpvaW4oJyArICcpOwogICAgbGluZXMucHVzaChgJHthLnRhYmxlfHwn5pyq5YiG6YWNJ30g4oaSICR7ZH1gKTsKICB9KTsKICByZXN1bHRFbC50ZXh0Q29udGVudD1saW5lcy5qb2luKCdcbicpOwoKICByZW5kZXJBc3NpZ25tZW50cygpOwogIHVwZGF0ZVRvdGFsUGVvcGxlKCk7Cn0KCmZ1bmN0aW9uIHJlbmRlckFzc2lnbm1lbnRzKCl7CiAgdGFibGVzLmZvckVhY2godD0+eyB0YWJsZU1hcFt0LmlkXS5lbC5pbm5lckhUTUw9YDxkaXYgY2xhc3M9J3QtdGl0bGUnPiR7dC5pZH08L2Rpdj5gOyB9KTsKICBsb2NrZWRPcmRlci5mb3JFYWNoKGI9PnsKICAgIGNvbnN0IGFzcz1iYXRjaEFzc2lnbm1lbnRzW2JdfHxbXTsgY29uc3QgZ3VpZGU9YmF0Y2hHdWlkZXNbYl18fCcnOyBjb25zdCBhYmJyPWd1aWRlLnNsaWNlKDAsMik7CiAgICBhc3MuZm9yRWFjaChhPT57CiAgICAgIGlmKCFhLnRhYmxlIHx8IGEudGFibGU9PT0n5pyq5YiG6YWNJykgcmV0dXJuOwogICAgICBjb25zdCBnaWRzPWEuZ3JvdXBzLm1hcChnPT5nLmlkKS5qb2luKCcsJyk7CiAgICAgIGNvbnN0IGNvdW50cz17QzowLEI6MCxGOjAsVjowLEg6MCxEOjB9OwogICAgICBhLmdyb3Vwcy5mb3JFYWNoKGc9PnsgY29uc3QgZGF0YT1iYXRjaElucHV0c1tiXT8uW2cuaWRdfHx7fTsgY291bnRzLkMrPWRhdGFbJ+eCuOm4oeWll+mkkCddfHwwOyBjb3VudHMuQis9ZGF0YVsn5ZKM54mb5aWX6aSQJ118fDA7IGNvdW50cy5GKz1kYXRhWyfps5fpsbzlpZfppJAnXXx8MDsgY291bnRzLlYrPWRhdGFbJ+e0oOmjn+Wll+mkkCddfHwwOyBjb3VudHMuSCs9ZGF0YVsn54mb6IKJSE9UTyddfHwwOyBjb3VudHMuRCs9ZGF0YVsn6aWu5paZ5YWl5bqnJ118fDA7IH0pOwogICAgICBjb25zdCBpdGVtcz1bXTsgWydDJywnQicsJ0YnLCdWJywnSCcsJ0QnXS5mb3JFYWNoKGs9PnsgaWYoY291bnRzW2tdPjApIGl0ZW1zLnB1c2goYDxkaXY+PHN0cm9uZz4ke2t9KiR7Y291bnRzW2tdfTwvc3Ryb25nPjwvZGl2PmApOyB9KTsKICAgICAgYS50YWJsZS5zcGxpdCgnKycpLmZvckVhY2goaWQ9PnsKICAgICAgICBjb25zdCBlbD10YWJsZU1hcFtpZF0/LmVsOyBpZighZWwpIHJldHVybjsKICAgICAgICBlbC5pbm5lckhUTUwgKz0gYDxkaXYgY2xhc3M9J3QtZ3VpZGUnPiR7YWJicj9hYmJyOicnfSR7YWJicj9gKCR7Yn0tJHtnaWRzfSlgOmAoJHtifS0ke2dpZHN9KWB9PC9kaXY+PGRpdiBjbGFzcz0ndC1pdGVtcyc+JHtpdGVtcy5qb2luKCcnKX08L2Rpdj5gOwogICAgICB9KTsKICAgIH0pOwogIH0pOwp9Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuQ2xlYXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsZWFySW5wdXRzKTsKZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J0bkNsZWFyVG9wJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbGVhcklucHV0cyk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5Bc3NpZ24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzc2lnbkN1cnJlbnRCYXRjaCk7CmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5Bc3NpZ25Ub3AnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzc2lnbkN1cnJlbnRCYXRjaCk7Cgpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuUmVsZWFzZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PnsKICBjb25zdCB2YWw9bG9ja2VkTGlzdEVsLnZhbHVlOyBpZighdmFsKSByZXR1cm47IHJlbGVhc2VMb2NrKHBhcnNlSW50KHZhbCkpOwp9KTsKCmJhdGNoU2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpPT57IGNvbnN0IGI9cGFyc2VJbnQoYmF0Y2hTZWxlY3QudmFsdWUpOyBsb2FkSW5wdXRzKGIpOwogIGlmKGJhdGNoQXNzaWdubWVudHNbYl0pewogICAgY29uc3QgZ3VpZGU9YmF0Y2hHdWlkZXNbYl18fCcnOyBjb25zdCBsaW5lcz1bYOesrCR7Yn3mibkgKOWvvOa4uDoke2d1aWRlfSkg5YiG6YWN57uT5p6c77yaYF07CiAgICBiYXRjaEFzc2lnbm1lbnRzW2JdLmZvckVhY2goYT0+ewogICAgICBjb25zdCBkPWEuZ3JvdXBzLm1hcChnPT57CiAgICAgICAgY29uc3QgZGF0YT1iYXRjaElucHV0c1tiXT8uW2cuaWRdfHx7fTsKICAgICAgICBjb25zdCBzZWdzPVsKICAgICAgICAgIGRhdGFbJ+eCuOm4oeWll+mkkCddP2DngrjpuKHlpZfppJAqJHtkYXRhWyfngrjpuKHlpZfppJAnXX1gOicnLAogICAgICAgICAgZGF0YVsn5ZKM54mb5aWX6aSQJ10/YOWSjOeJm+Wll+mkkCoke2RhdGFbJ+WSjOeJm+Wll+mkkCddfWA6JycsCiAgICAgICAgICBkYXRhWyfps5fpsbzlpZfppJAnXT9g6bOX6bG85aWX6aSQKiR7ZGF0YVsn6bOX6bG85aWX6aSQJ119YDonJywKICAgICAgICAgIGRhdGFbJ+e0oOmjn+Wll+mkkCddP2DntKDpo5/lpZfppJAqJHtkYXRhWyfntKDpo5/lpZfppJAnXX1gOicnLAogICAgICAgICAgZGF0YVsn54mb6IKJSE9UTyddP2DniZvogolIT1RPKiR7ZGF0YVsn54mb6IKJSE9UTyddfWA6JycsCiAgICAgICAgICBkYXRhWyfppa7mlpnlhaXluqcnXT9g6aWu5paZ5YWl5bqnKiR7ZGF0YVsn6aWu5paZ5YWl5bqnJ119YDonJwogICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ++8jCcpOwogICAgICAgIHJldHVybiBg56ysJHtnLmlkfee7hCgke2cuc2l6ZX3kuropOiAke3NlZ3N9YDsKICAgICAgfSkuam9pbignICsgJyk7CiAgICAgIGxpbmVzLnB1c2goYCR7YS50YWJsZXx8J+acquWIhumFjSd9IOKGkiAke2R9YCk7CiAgICB9KTsKICAgIHJlc3VsdEVsLnRleHRDb250ZW50PWxpbmVzLmpvaW4oJ1xuJyk7CiAgfWVsc2V7IHJlc3VsdEVsLnRleHRDb250ZW50PScnOyB9Cn0pOwoKbG9hZElucHV0cygxKTsKCi8vIOKAlOKAlCDmmbrog73lr7zmuLjlvZXlhaXvvJrmm7TlvLrlgaXnmoTop6PmnpAg4oCU4oCUCmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG5QYXJzZUd1aWRlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+ewogIGxldCByYXc9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2d1aWRlUGFzdGUnKS52YWx1ZTsKICBpZighcmF3KSByZXR1cm4gYWxlcnQoJ+ivt+WFiOeymOi0tOWvvOa4uOS/oeaBr++8gScpOwoKICAvLyDnu5/kuIDliLAgTkZLQ++8jOa4heeQhuWbnui9pi9uYnNwL+WkmuepuuagvAogIGxldCB0ZXh0PXJhdy5ub3JtYWxpemUoJ05GS0MnKQogICAgICAgICAgICAgLnJlcGxhY2UoL1xyL2csJycpCiAgICAgICAgICAgICAucmVwbGFjZSgvXHUwMEEwL2csJyAnKQogICAgICAgICAgICAgLnJlcGxhY2UoL1sgXHRdKy9nLCcgJykKICAgICAgICAgICAgIC50cmltKCk7CgogIC8vIOWvvOa4uOWQje+8iOWFgeiuuOWQjumdoui3n+S7u+aEj+Wtl+espuebtOWIsOaNouihjO+8iQogIGNvbnN0IG5hbWVNYXRjaD10ZXh0Lm1hdGNoKC/lr7zmuLjlkI1bOu+8ml0/XHMqKFteXG5dKykvKTsKICBpZihuYW1lTWF0Y2gpIGd1aWRlTmFtZUlucHV0LnZhbHVlID0gbmFtZU1hdGNoWzFdLnRyaW0oKTsKCiAgY29uc3QgbGluZXM9dGV4dC5zcGxpdCgvXG4rLykubWFwKGw9PmwudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7CiAgY29uc3QgbWFwPXtDOifngrjpuKHlpZfppJAnLEI6J+WSjOeJm+Wll+mkkCcsRjon6bOX6bG85aWX6aSQJyxWOifntKDpo5/lpZfppJAnLEg6J+eJm+iCiUhPVE8nLEQ6J+mlruaWmeWFpeW6pyd9OwogIGxldCBjb3VudD0wOwoKICBsaW5lcy5mb3JFYWNoKGxpbmU9PnsKICAgIC8vIOi3s+i/h+aXoOWFs+ihjAogICAgaWYoL+eUqOmkkHzlkIjorqF85Lq65pWwfOaAu+aVsC9pLnRlc3QobGluZSkpIHJldHVybjsKICAgIC8vIOaPkOWPluKAnOesrD/mlbDlrZcg57uE4oCdCiAgICBjb25zdCBncnA9bGluZS5tYXRjaCgvKD8656ysKT9ccyooXGR7MSwyfSlccyrnu4QvaSk7CiAgICBpZighZ3JwKSByZXR1cm47CiAgICBjb25zdCBncm91cD1wYXJzZUludChncnBbMV0sMTApOwogICAgaWYoIShncm91cD49MSAmJiBncm91cDw9MzApKSByZXR1cm47CiAgICAvLyDku47nu4TmoIforrDkuYvlkI7mj5Dlj5bppJDliKvku6PnoIHvvJrljrvpmaTpnZ4gQ0JGVkhEIOeahOWtl+espgogICAgY29uc3QgYWZ0ZXI9bGluZS5zbGljZShncnAuaW5kZXggKyBncnBbMF0ubGVuZ3RoKTsKICAgIGNvbnN0IGxldHRlcnM9YWZ0ZXIucmVwbGFjZSgvW15DQkZWSERdL2lnLCcnKS50b1VwcGVyQ2FzZSgpOwogICAgaWYoIWxldHRlcnMpIHJldHVybjsgLy8g56m657uE6Lez6L+HCgogICAgLy8g5YWI5riF6Zu2CiAgICBNRU5VLmZvckVhY2gobWVudT0+eyBjb25zdCBlbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZyR7Z3JvdXB9XyR7bWVudX1gKTsgaWYoZWwpIGVsLnZhbHVlPTA7IH0pOwogICAgLy8g5YaN57Sv5YqgCiAgICBsZXR0ZXJzLnNwbGl0KCcnKS5mb3JFYWNoKGM9PnsKICAgICAgY29uc3QgbWVudT1tYXBbY107CiAgICAgIGlmKG1lbnUpeyBjb25zdCBlbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChgZyR7Z3JvdXB9XyR7bWVudX1gKTsgaWYoZWwpIGVsLnZhbHVlPSgrZWwudmFsdWV8fDApKzE7IH0KICAgIH0pOwogICAgY291bnQrKzsKICB9KTsKCiAgdXBkYXRlVG90YWxQZW9wbGUoKTsKICBhbGVydChg6K+G5Yir5a6M5oiQ77yB5oiQ5Yqf5b2V5YWlICR7Y291bnR9IOS4que7hOWIq+OAgmApOwp9KTsKPC9zY3JpcHQ+CjwvYm9keT4KPC9odG1sPgo=" title="Kane Fuji Smart Seating"></iframe>

<script>
  // After 3 seconds, fade out splash
  setTimeout(function(){
    var s = document.getElementById('splash');
    s.classList.add('fade-out');
    setTimeout(function(){ s.style.display='none'; }, 1000);
  }, 3000);
</script>
</body>
</html>
